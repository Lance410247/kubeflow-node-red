{"metadata": {"name": "three-pipeline-8qt4x", "generateName": "three-pipeline-", "namespace": "kubeflow-user-thu06", "uid": "18fa8ac2-655e-4351-ba65-9dcb81b712cf", "resourceVersion": "71349188", "generation": 5, "creationTimestamp": "2023-06-07T03:26:43Z", "labels": {"pipeline/runid": "c307d8d8-00eb-4f5e-9987-a5bce6e96489", "pipelines.kubeflow.org/kfp_sdk_version": "1.8.20", "workflows.argoproj.io/completed": "true", "workflows.argoproj.io/phase": "Succeeded"}, "annotations": {"pipelines.kubeflow.org/kfp_sdk_version": "1.8.20", "pipelines.kubeflow.org/pipeline_compilation_time": "2023-06-05T01:22:44.685726", "pipelines.kubeflow.org/pipeline_spec": "{\"description\": \"bagging\", \"name\": \"Three Pipeline\"}", "pipelines.kubeflow.org/run_name": "run_only_randomForest1f9d3595ou", "workflows.argoproj.io/pod-name-format": "v1"}, "managedFields": [{"manager": "apiserver", "operation": "Update", "apiVersion": "argoproj.io/v1alpha1", "time": "2023-06-07T03:26:43Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:pipelines.kubeflow.org/kfp_sdk_version": {}, "f:pipelines.kubeflow.org/pipeline_compilation_time": {}, "f:pipelines.kubeflow.org/pipeline_spec": {}, "f:pipelines.kubeflow.org/run_name": {}}, "f:generateName": {}, "f:labels": {".": {}, "f:pipeline/runid": {}, "f:pipelines.kubeflow.org/kfp_sdk_version": {}}}, "f:spec": {}}}, {"manager": "workflow-controller", "operation": "Update", "apiVersion": "argoproj.io/v1alpha1", "time": "2023-06-07T03:27:18Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:workflows.argoproj.io/pod-name-format": {}}, "f:labels": {"f:workflows.argoproj.io/completed": {}, "f:workflows.argoproj.io/phase": {}}}, "f:status": {}}}]}, "spec": {"templates": [{"name": "bagging-classifier", "inputs": {"artifacts": [{"name": "download-data-function-Data", "path": "/tmp/inputs/Data/data"}]}, "outputs": {"parameters": [{"name": "bagging-classifier-Accuracy", "valueFrom": {"path": "/tmp/outputs/Accuracy/data"}}], "artifacts": [{"name": "bagging-classifier-Accuracy", "path": "/tmp/outputs/Accuracy/data"}]}, "metadata": {"annotations": {"pipelines.kubeflow.org/component_ref": "{\"digest\": \"64eed0922f1425dcfee219a3a1b9e5cca51bce0078f380f2a66396077ef7f00e\", \"url\": \"randomForest/ramdom_forest.yaml\"}", "pipelines.kubeflow.org/component_spec": "{\"description\": \"Train a bagging classifier\", \"implementation\": {\"container\": {\"command\": [\"python\", \"randomforest.py\", \"--data\", {\"inputPath\": \"Data\"}, \"--accuracy\", {\"outputPath\": \"Accuracy\"}], \"image\": \"lance410247/kubeflow:bagging_v2\"}}, \"inputs\": [{\"description\": \"Path where data is stored.\", \"name\": \"Data\", \"type\": \"LocalPath\"}], \"name\": \"bagging classifier\", \"outputs\": [{\"description\": \"Accuracy metric\", \"name\": \"Accuracy\", \"type\": \"Float\"}]}", "sidecar.istio.io/inject": "false"}, "labels": {"pipelines.kubeflow.org/cache_enabled": "true", "pipelines.kubeflow.org/enable_caching": "true", "pipelines.kubeflow.org/kfp_sdk_version": "1.8.20", "pipelines.kubeflow.org/pipeline-sdk-type": "kfp"}}, "container": {"name": "", "image": "lance410247/kubeflow:bagging_v2", "command": ["python", "randomforest.py", "--data", "/tmp/inputs/Data/data", "--accuracy", "/tmp/outputs/Accuracy/data"], "resources": {"limits": {"cpu": "2"}, "requests": {"cpu": "1"}}}}, {"name": "download-data-function", "inputs": {}, "outputs": {"artifacts": [{"name": "download-data-function-Data", "path": "/tmp/outputs/Data/data"}]}, "metadata": {"annotations": {"pipelines.kubeflow.org/component_ref": "{\"digest\": \"8db794668b4fd3b82638d89a42251f4038ab56623ee9f34721c356c5479155d2\", \"url\": \"download_data/download_data.yaml\"}", "pipelines.kubeflow.org/component_spec": "{\"description\": \"Download toy data from sklearn datasets\", \"implementation\": {\"container\": {\"command\": [\"python\", \"download_data.py\", \"--data\", {\"outputPath\": \"Data\"}], \"image\": \"fernandolpz/only-tests:download_data_v3\"}}, \"name\": \"Download Data Function\", \"outputs\": [{\"description\": \"Path where data will be stored.\", \"name\": \"Data\", \"type\": \"LocalPath\"}]}", "sidecar.istio.io/inject": "false"}, "labels": {"pipelines.kubeflow.org/cache_enabled": "true", "pipelines.kubeflow.org/enable_caching": "true", "pipelines.kubeflow.org/kfp_sdk_version": "1.8.20", "pipelines.kubeflow.org/pipeline-sdk-type": "kfp"}}, "container": {"name": "", "image": "fernandolpz/only-tests:download_data_v3", "command": ["python", "download_data.py", "--data", "/tmp/outputs/Data/data"], "resources": {"limits": {"cpu": "2"}, "requests": {"cpu": "1"}}}}, {"name": "show-results", "inputs": {"parameters": [{"name": "bagging-classifier-Accuracy"}]}, "outputs": {}, "metadata": {"annotations": {"pipelines.kubeflow.org/arguments.parameters": "{\"random_forest\": \"{{inputs.parameters.bagging-classifier-Accuracy}}\"}", "pipelines.kubeflow.org/component_ref": "{}", "pipelines.kubeflow.org/component_spec": "{\"implementation\": {\"container\": {\"args\": [\"--random-forest\", {\"inputValue\": \"random_forest\"}], \"command\": [\"sh\", \"-ec\", \"program_path=$(mktemp)\\nprintf \\\"%s\\\" \\\"$0\\\" > \\\"$program_path\\\"\\npython3 -u \\\"$program_path\\\" \\\"$@\\\"\\n\", \"def show_results( random_forest):\\n    # Given the outputs from decision_tree and logistic regression components\\n    # the results are shown.\\n\\n    print(f\\\"Random forest (accuracy): {random_forest}\\\")\\n\\nimport argparse\\n_parser = argparse.ArgumentParser(prog='Show results', description='')\\n_parser.add_argument(\\\"--random-forest\\\", dest=\\\"random_forest\\\", type=float, required=True, default=argparse.SUPPRESS)\\n_parsed_args = vars(_parser.parse_args())\\n\\n_outputs = show_results(**_parsed_args)\\n\"], \"image\": \"python:3.7\"}}, \"inputs\": [{\"name\": \"random_forest\", \"type\": \"Float\"}], \"name\": \"Show results\"}", "sidecar.istio.io/inject": "false"}, "labels": {"pipelines.kubeflow.org/cache_enabled": "true", "pipelines.kubeflow.org/enable_caching": "true", "pipelines.kubeflow.org/kfp_sdk_version": "1.8.20", "pipelines.kubeflow.org/pipeline-sdk-type": "kfp"}}, "container": {"name": "", "image": "python:3.7", "command": ["sh", "-ec", "program_path=$(mktemp)\nprintf \"%s\" \"$0\" > \"$program_path\"\npython3 -u \"$program_path\" \"$@\"\n", "def show_results( random_forest):\n    # Given the outputs from decision_tree and logistic regression components\n    # the results are shown.\n\n    print(f\"Random forest (accuracy): {random_forest}\")\n\nimport argparse\n_parser = argparse.ArgumentParser(prog='Show results', description='')\n_parser.add_argument(\"--random-forest\", dest=\"random_forest\", type=float, required=True, default=argparse.SUPPRESS)\n_parsed_args = vars(_parser.parse_args())\n\n_outputs = show_results(**_parsed_args)\n"], "args": ["--random-forest", "{{inputs.parameters.bagging-classifier-Accuracy}}"], "resources": {"limits": {"cpu": "2"}, "requests": {"cpu": "1"}}}}, {"name": "three-pipeline", "inputs": {}, "outputs": {}, "metadata": {"annotations": {"sidecar.istio.io/inject": "false"}, "labels": {"pipelines.kubeflow.org/cache_enabled": "true"}}, "dag": {"tasks": [{"name": "bagging-classifier", "template": "bagging-classifier", "arguments": {"artifacts": [{"name": "download-data-function-Data", "from": "{{tasks.download-data-function.outputs.artifacts.download-data-function-Data}}"}]}, "dependencies": ["download-data-function"]}, {"name": "download-data-function", "template": "download-data-function", "arguments": {}}, {"name": "show-results", "template": "show-results", "arguments": {"parameters": [{"name": "bagging-classifier-Accuracy", "value": "{{tasks.bagging-classifier.outputs.parameters.bagging-classifier-Accuracy}}"}]}, "dependencies": ["bagging-classifier"]}]}}], "entrypoint": "three-pipeline", "arguments": {}, "serviceAccountName": "default-editor", "podMetadata": {"labels": {"pipeline/runid": "c307d8d8-00eb-4f5e-9987-a5bce6e96489"}}}, "status": {"phase": "Succeeded", "startedAt": "2023-06-07T03:26:43Z", "finishedAt": "2023-06-07T03:27:18Z", "progress": "3/3", "nodes": {"three-pipeline-8qt4x": {"id": "three-pipeline-8qt4x", "name": "three-pipeline-8qt4x", "displayName": "three-pipeline-8qt4x", "type": "DAG", "templateName": "three-pipeline", "templateScope": "local/three-pipeline-8qt4x", "phase": "Succeeded", "startedAt": "2023-06-07T03:26:43Z", "finishedAt": "2023-06-07T03:27:18Z", "progress": "3/3", "resourcesDuration": {"cpu": 8, "memory": 3}, "children": ["three-pipeline-8qt4x-2010745096"], "outboundNodes": ["three-pipeline-8qt4x-3243990748"]}, "three-pipeline-8qt4x-2010745096": {"id": "three-pipeline-8qt4x-2010745096", "name": "three-pipeline-8qt4x.download-data-function", "displayName": "download-data-function", "type": "Pod", "templateName": "download-data-function", "templateScope": "local/three-pipeline-8qt4x", "phase": "Succeeded", "boundaryID": "three-pipeline-8qt4x", "startedAt": "2023-06-07T03:26:43Z", "finishedAt": "2023-06-07T03:26:47Z", "progress": "1/1", "resourcesDuration": {"cpu": 2, "memory": 1}, "outputs": {"artifacts": [{"name": "download-data-function-Data", "path": "/tmp/outputs/Data/data", "s3": {"key": "artifacts/three-pipeline-8qt4x/2023/06/07/three-pipeline-8qt4x-2010745096/download-data-function-Data.tgz"}}, {"name": "main-logs", "s3": {"key": "artifacts/three-pipeline-8qt4x/2023/06/07/three-pipeline-8qt4x-2010745096/main.log"}}], "exitCode": "0"}, "children": ["three-pipeline-8qt4x-2301744831"], "hostNodeName": "node1-worker3"}, "three-pipeline-8qt4x-2301744831": {"id": "three-pipeline-8qt4x-2301744831", "name": "three-pipeline-8qt4x.bagging-classifier", "displayName": "bagging-classifier", "type": "Pod", "templateName": "bagging-classifier", "templateScope": "local/three-pipeline-8qt4x", "phase": "Succeeded", "boundaryID": "three-pipeline-8qt4x", "startedAt": "2023-06-07T03:26:54Z", "finishedAt": "2023-06-07T03:27:01Z", "progress": "1/1", "resourcesDuration": {"cpu": 5, "memory": 2}, "inputs": {"artifacts": [{"name": "download-data-function-Data", "path": "/tmp/inputs/Data/data", "s3": {"key": "artifacts/three-pipeline-8qt4x/2023/06/07/three-pipeline-8qt4x-2010745096/download-data-function-Data.tgz"}}]}, "outputs": {"parameters": [{"name": "bagging-classifier-Accuracy", "value": "0.9473684210526315", "valueFrom": {"path": "/tmp/outputs/Accuracy/data"}}], "artifacts": [{"name": "bagging-classifier-Accuracy", "path": "/tmp/outputs/Accuracy/data", "s3": {"key": "artifacts/three-pipeline-8qt4x/2023/06/07/three-pipeline-8qt4x-2301744831/bagging-classifier-Accuracy.tgz"}}, {"name": "main-logs", "s3": {"key": "artifacts/three-pipeline-8qt4x/2023/06/07/three-pipeline-8qt4x-2301744831/main.log"}}], "exitCode": "0"}, "children": ["three-pipeline-8qt4x-3243990748"], "hostNodeName": "node1-worker3"}, "three-pipeline-8qt4x-3243990748": {"id": "three-pipeline-8qt4x-3243990748", "name": "three-pipeline-8qt4x.show-results", "displayName": "show-results", "type": "Pod", "templateName": "show-results", "templateScope": "local/three-pipeline-8qt4x", "phase": "Succeeded", "boundaryID": "three-pipeline-8qt4x", "startedAt": "2023-06-07T03:27:06Z", "finishedAt": "2023-06-07T03:27:10Z", "progress": "1/1", "resourcesDuration": {"cpu": 1, "memory": 0}, "inputs": {"parameters": [{"name": "bagging-classifier-Accuracy", "value": "0.9473684210526315"}]}, "outputs": {"artifacts": [{"name": "main-logs", "s3": {"key": "artifacts/three-pipeline-8qt4x/2023/06/07/three-pipeline-8qt4x-3243990748/main.log"}}], "exitCode": "0"}, "hostNodeName": "node1-worker3"}}, "conditions": [{"type": "PodRunning", "status": "False"}, {"type": "Completed", "status": "True"}], "resourcesDuration": {"cpu": 8, "memory": 3}, "artifactRepositoryRef": {"default": true, "artifactRepository": {"archiveLogs": true, "s3": {"endpoint": "minio-service.kubeflow:9000", "bucket": "mlpipeline", "insecure": true, "accessKeySecret": {"name": "mlpipeline-minio-artifact", "key": "accesskey"}, "secretKeySecret": {"name": "mlpipeline-minio-artifact", "key": "secretkey"}, "keyFormat": "artifacts/{{workflow.name}}/{{workflow.creationTimestamp.Y}}/{{workflow.creationTimestamp.m}}/{{workflow.creationTimestamp.d}}/{{pod.name}}"}}}}}